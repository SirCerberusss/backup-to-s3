üîê Backup Script to S3

–≠—Ç–æ—Ç —Å–∫—Ä–∏–ø—Ç –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è —Ä–µ–∑–µ—Ä–≤–Ω—ã—Ö –∫–æ–ø–∏–π –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤, –ª–æ–≥–æ–≤ –∏ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è –∑–∞–¥–∞–Ω–∏–π crontab –Ω–∞ Linux-—Å–µ—Ä–≤–µ—Ä–µ —Å –ø–æ—Å–ª–µ–¥—É—é—â–µ–π –∑–∞–≥—Ä—É–∑–∫–æ–π –∞—Ä—Ö–∏–≤–æ–≤ –≤ S3-—Å–æ–≤–º–µ—Å—Ç–∏–º–æ–µ –æ–±–ª–∞—á–Ω–æ–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ.

üì¶ –ß—Ç–æ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è

    /etc ‚Äî —Å–∏—Å—Ç–µ–º–Ω—ã–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏

    /var/log ‚Äî —Å–∏—Å—Ç–µ–º–Ω—ã–µ –ª–æ–≥–∏

    crontab –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è root

‚òÅÔ∏è –ó–∞–≥—Ä—É–∑–∫–∞ –≤ –æ–±–ª–∞–∫–æ

–ê—Ä—Ö–∏–≤—ã –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–ª–∏–≤–∞—é—Ç—Å—è –≤ —É–∫–∞–∑–∞–Ω–Ω—ã–π S3-–±–∞–∫–µ—Ç —á–µ—Ä–µ–∑ aws-cli. –°—Ç–∞—Ç—É—Å –∫–∞–∂–¥–æ–≥–æ —à–∞–≥–∞ –ª–æ–≥–∏—Ä—É–µ—Ç—Å—è.

üìÑ –õ–æ–≥–∏

–í—Å–µ –¥–µ–π—Å—Ç–≤–∏—è –∑–∞–ø–∏—Å—ã–≤–∞—é—Ç—Å—è –≤ –ª–æ–≥-—Ñ–∞–π–ª /var/log/backup_<–¥–∞—Ç–∞>.log.

‚öôÔ∏è –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

    Bash

    –£—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã–π –∏ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π aws-cli

    –î–æ—Å—Ç—É–ø –∫ S3 (–∏–ª–∏ S3-—Å–æ–≤–º–µ—Å—Ç–∏–º–æ–º—É —Ö—Ä–∞–Ω–∏–ª–∏—â—É, –Ω–∞–ø—Ä–∏–º–µ—Ä, MinIO)

üöÄ –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –∑–∞–ø—É—Å–∫

–ù–∞—Å—Ç—Ä–æ–π AWS CLI:

    aws configure

    –û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é S3_BUCKET –≤ —Å–∫—Ä–∏–ø—Ç–µ:
    S3_BUCKET="s3://your-bucket-name"

    –°–¥–µ–ª–∞–π —Å–∫—Ä–∏–ø—Ç –∏—Å–ø–æ–ª–Ω—è–µ–º—ã–º:
    chmod +x backup.sh

–ó–∞–ø—É—Å—Ç–∏:

    ./backup.sh

üßπ –û—á–∏—Å—Ç–∫–∞

–ü–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è —Ä–∞–±–æ—Ç—ã –≤—Ä–µ–º–µ–Ω–Ω—ã–µ –∞—Ä—Ö–∏–≤—ã —É–¥–∞–ª—è—é—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏.

üõ° –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

    –°–∫—Ä–∏–ø—Ç —Ä–∞–±–æ—Ç–∞–µ—Ç –æ—Ç –∏–º–µ–Ω–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è —Å –ø—Ä–∞–≤–∞–º–∏ –¥–æ—Å—Ç—É–ø–∞ –∫ —Å–∏—Å—Ç–µ–º–Ω—ã–º –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è–º (–æ–±—ã—á–Ω–æ root).

    –£–±–µ–¥–∏—Å—å, —á—Ç–æ –¥–æ—Å—Ç—É–ø –∫ aws credentials –æ–≥—Ä–∞–Ω–∏—á–µ–Ω.

üìå –ü—Ä–∏–º–µ—á–∞–Ω–∏—è

    –ï—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—à—å –Ω–µ AWS, –∞ –¥—Ä—É–≥–æ–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ (–Ω–∞–ø—Ä–∏–º–µ—Ä, MinIO), –º–æ–∂–Ω–æ –∑–∞–¥–∞—Ç—å --endpoint-url –≤ –∫–æ–º–∞–Ω–¥–∞—Ö aws s3 cp.